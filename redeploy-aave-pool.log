Compiling 1 files with Solc 0.8.26
Solc 0.8.26 finished in 852.82ms
Compiler run successful!
Warning: Detected artifacts built from source files that no longer exist. Run `forge clean` to make sure builds are in sync with project files.
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/token/ERC721/utils/ERC721Utils.sol
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/utils/cryptography/Hashes.sol
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/utils/Comparators.sol
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/utils/Errors.sol
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/utils/SlotDerivation.sol
 - /Volumes/PSSD/CINA-protocol-contracts/node_modules/@openzeppelin/contracts/utils/Panic.sol
Script ran successfully.

== Return ==
newPoolProxy: address 0xe8d5Bf14837f948042d6EAEc0F7CF3E7cbD26347
newImpl: address 0x081EAf1F5Af721F44FBbb6039483445696b69D28

== Logs ==
  ===========================================
  Redeploy AaveFundingPool
  ===========================================
  Deployer: 0xE8055E0fAb02Ceb32D30DA3540Cf97BE1FBf244A
  Balance: 0 ETH
  
  [1/3] Deploy Implementation
  -------------------------------------------
  Implementation Address: 0x081EAf1F5Af721F44FBbb6039483445696b69D28
  Constructor Args:
    PoolManager: 0xBb644076500Ea106d9029B382C4d49f56225cB82
    Configuration: 0x35456038942C91eb16fe2E33C213135E75f8d188
  
  [2/3] Prepare Initialization
  -------------------------------------------
  Init Params:
    Admin: 0xE8055E0fAb02Ceb32D30DA3540Cf97BE1FBf244A
    Name: f(x) USDC Leveraged Position
    Symbol: xUSDC
    Collateral (USDC): 0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238
    Price Oracle: 0x0347f7d0952b3c55E276D42b9e2950Cc0523d787
  
  [3/3] Deploy Proxy
  -------------------------------------------
  Proxy Deployed: 0xe8d5Bf14837f948042d6EAEc0F7CF3E7cbD26347
  
  [4/5] Configure Pool Parameters
  -------------------------------------------
  OK: Debt ratio range: 50-80%
  OK: Rebalance ratios set
  OK: Liquidate ratios set
  OK: EMERGENCY_ROLE granted
  OK: Borrow and redeem enabled
  
  [5/5] Register to PoolManager
  -------------------------------------------
  OK: Pool registered to PoolManager
    Collateral Capacity: 100,000 USDC
    Debt Capacity: 500,000 fxUSD
  
  ===========================================
  Deployment Successful!
  ===========================================
  
  New Contract Addresses:
    AaveFundingPool Proxy:   0xe8d5Bf14837f948042d6EAEc0F7CF3E7cbD26347
    AaveFundingPool Impl:    0x081EAf1F5Af721F44FBbb6039483445696b69D28
  
  Configuration:
    Collateral: USDC
    Price Oracle: MockPriceOracle (1.0 USD)
    Debt Ratio: 50-80%
    LTV Ratio: 80%
  
  ===========================================
  Etherscan Verification Commands
  ===========================================
  
  # Verify Implementation:
  forge verify-contract \
     0x081EAf1F5Af721F44FBbb6039483445696b69D28 \
    contracts/core/pool/AaveFundingPool.sol:AaveFundingPool \
    --chain sepolia \
    --constructor-args 0x000000000000000000000000bb644076500ea106d9029b382c4d49f56225cb8200000000000000000000000035456038942c91eb16fe2e33c213135e75f8d188
  
  # Or use cast encoding:
  forge verify-contract \
     0x081EAf1F5Af721F44FBbb6039483445696b69D28 \
    contracts/core/pool/AaveFundingPool.sol:AaveFundingPool \
    --chain sepolia \
    --constructor-args $(cast abi-encode 'constructor(address,address)'
       0xBb644076500Ea106d9029B382C4d49f56225cB82
       0x35456038942C91eb16fe2E33C213135E75f8d188
    )
  
  # Verify Proxy:
  # (Proxy auto-verifies, or verify manually on Etherscan)
  
  ===========================================

## Setting up 1 EVM.

==========================

Chain 11155111

Estimated gas price: 0.001100018 gwei

Estimated total gas used for script: 8199273

Estimated amount required: 0.000009019347886914 ETH

==========================


==========================

ONCHAIN EXECUTION COMPLETE & SUCCESSFUL.
##
Start verification for (3) contracts
Start verifying contract `0x081EAf1F5Af721F44FBbb6039483445696b69D28` deployed on sepolia
EVM version: cancun
Compiler version: 0.8.26
Optimizations:    200
Constructor args: 000000000000000000000000bb644076500ea106d9029b382c4d49f56225cb8200000000000000000000000035456038942c91eb16fe2e33c213135e75f8d188

Submitting verification for [contracts/core/pool/AaveFundingPool.sol:AaveFundingPool] 0x081EAf1F5Af721F44FBbb6039483445696b69D28.
Warning: Could not detect the deployment.; waiting 5 seconds before trying again (4 tries remaining)

Submitting verification for [contracts/core/pool/AaveFundingPool.sol:AaveFundingPool] 0x081EAf1F5Af721F44FBbb6039483445696b69D28.
Warning: Could not detect the deployment.; waiting 5 seconds before trying again (3 tries remaining)

Submitting verification for [contracts/core/pool/AaveFundingPool.sol:AaveFundingPool] 0x081EAf1F5Af721F44FBbb6039483445696b69D28.
Submitted contract for verification:
	Response: `OK`
	GUID: `nk5dybpxwiuvgehix6rj48hvmkandnvdvhyafrdvu3jvjvrgka`
	URL: https://sepolia.etherscan.io/address/0x081eaf1f5af721f44fbbb6039483445696b69d28
Contract verification status:
Response: `NOTOK`
Details: `Pending in queue`
Warning: Verification is still pending...; waiting 15 seconds before trying again (7 tries remaining)
Contract verification status:
Response: `OK`
Details: `Pass - Verified`
Contract successfully verified
Start verifying contract `0xe8d5Bf14837f948042d6EAEc0F7CF3E7cbD26347` deployed on sepolia
EVM version: cancun
Compiler version: 0.8.26
Optimizations:    200
Constructor args: 000000000000000000000000081eaf1f5af721f44fbbb6039483445696b69d280000000000000000000000007bc6535d75541125fb3b494decfde10db20c16d8000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001246cf1dbed000000000000000000000000e8055e0fab02ceb32d30da3540cf97be1fbf244a00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000001c7d4b196cb0c7b01d743fbc6116a902379c72380000000000000000000000000347f7d0952b3c55e276d42b9e2950cc0523d787000000000000000000000000000000000000000000000000000000000000001c662878292055534443204c657665726167656420506f736974696f6e000000000000000000000000000000000000000000000000000000000000000000000005785553444300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

Submitting verification for [node_modules/@openzeppelin/contracts/proxy/transparent/TransparentUpgradeableProxy.sol:TransparentUpgradeableProxy] 0xe8d5Bf14837f948042d6EAEc0F7CF3E7cbD26347.
Submitted contract for verification:
	Response: `OK`
	GUID: `imbjsfuzrcsskznhzyg7e7tkf2pmmqwud459dmrjh6zr53ha82`
	URL: https://sepolia.etherscan.io/address/0xe8d5bf14837f948042d6eaec0f7cf3e7cbd26347
Contract verification status:
Response: `NOTOK`
Details: `Pending in queue`
Warning: Verification is still pending...; waiting 15 seconds before trying again (7 tries remaining)
Contract verification status:
Response: `OK`
Details: `Pass - Verified`
Contract successfully verified
Start verifying contract `0xBB2e8B701EfBCbe85f6c253373Ee867DB763f8f1` deployed on sepolia
EVM version: cancun
Compiler version: 0.8.26
Optimizations:    200
Constructor args: 0000000000000000000000007bc6535d75541125fb3b494decfde10db20c16d8

Submitting verification for [node_modules/@openzeppelin/contracts/proxy/transparent/ProxyAdmin.sol:ProxyAdmin] 0xBB2e8B701EfBCbe85f6c253373Ee867DB763f8f1.
Submitted contract for verification:
	Response: `OK`
	GUID: `vtrdvcjfuqrgm2ixphwe5dyxrzz2gdjdfkjb4zyspnias1jxi7`
	URL: https://sepolia.etherscan.io/address/0xbb2e8b701efbcbe85f6c253373ee867db763f8f1
Contract verification status:
Response: `NOTOK`
Details: `Pending in queue`
Warning: Verification is still pending...; waiting 15 seconds before trying again (7 tries remaining)
Contract verification status:
Response: `OK`
Details: `Pass - Verified`
Contract successfully verified
All (3) contracts were verified!

Transactions saved to: /Volumes/PSSD/CINA-protocol-contracts/broadcast/RedeployAavePool.s.sol/11155111/run-latest.json

Sensitive values saved to: /Volumes/PSSD/CINA-protocol-contracts/cache-foundry/RedeployAavePool.s.sol/11155111/run-latest.json

